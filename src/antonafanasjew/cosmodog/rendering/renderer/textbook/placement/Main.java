package antonafanasjew.cosmodog.rendering.renderer.textbook.placement;

import java.util.ArrayList;
import java.util.List;

import antonafanasjew.cosmodog.rendering.renderer.textbook.FontRefToFontTypeMap;

public class Main {

	public static void main(String[] args) {
		
		String text = 
				
				"Ross war der Sohn eines Zimmermanns und einer Kellnerin. Er hatte einen Halbbruder und wuchs in Orlando auf. Nach der neunten Klasse brach Ross seine Schulzeit ab und verpflichtete sich im Alter von 18 Jahren 1961 fuer zwei Jahrzehnte zum Dienst in der US-Air Force. Als Begruendung gab er an, dass er so die Welt kennenlernen konnte. Er schied 1981 im Rang eines Master Sergeants aus dem Dienst aus.\r\n"
				+ "Bereits in den 1970er-Jahren besuchte Ross an verschiedenen Colleges Seminare in Malerei. Dabei liess er sich fuer seine eigenen Arbeiten besonders von der Technik seines Lehrers Bill Alexander inspirieren. Spter bot er auch eigene Kurse an. Nach Dreharbeiten 1983 fuer den Chicagoer Lokalsender des PBS wurde ihm ein Vertrag angeboten, aus denen die ersten dreizehn Episoden von The Joy of Painting entstanden. Heute gelten die ersten vierzehn Staffeln jedoch aufgrund einer zu grobkoernigen Aufloesung als unansehbar; ausgestrahlt werden nur noch die fuenfzehnte bis einunddreissigste Staffel (1988-1993).\r\n"
				+ "Am 4. Juli 1995 starb Ross im Alter von 52 Jahren am Non-Hodgkin-Lymphom. Er wurde im Woodlawn Memorial Park in Gotha beerdigt. Sein Markenzeichen war seine grosse Afrofrisur, die jedoch nicht natuerlich war.\r\n"
				+ "\r\n"
				+ "Wirken\r\n"
				+ "Ausgehend von Do-it-yourself-Methoden wie der von William \"Bill\" Alexander entwickelte Ross seine eigene Maltechnik, eine besondere Nass-in-Nass-Malerei, mit der er unter Verwendung weniger Farben und Hilfsmittel Landschaftsbilder kreierte. Statistisch wurde berechnet, dass in seinen 30.000 hinterbliebenen Gemlden zu 91 Prozent mindestens ein Baum auftaucht, zu 20 Prozent eine Sonne und nur zu 2 Prozent Palmen. Ross sagte 1991 in der New York Times, dass er nur ein einziges Mal seine Bilder ausgestellt habe. Es gbe \"Tausende sehr, sehr talentierte Kuenstler, die nicht mal nach ihrem Tod bekannt werden. Die meisten Kuenstler wuenschen sich Anerkennung, besonders bei der Fachwelt. Ich habe schon so lange meine Sendung. Mehr brauche ich nicht.\"\r\n"
				+ "1981 ging Ross mit dieser neuen Technik auf Tournee durch die USA, ehe er sie ab 1983 auch in seiner eigenen Fernsehsendung The Joy of Painting ('Die Freude am Malen') prsentierte. Durch diese Sendung gelangte er zu weltweiter Bekanntheit und verhalf der Nass-in-Nass-Technik zu mehr Verbreitung.[7] Seitdem werden ueber eine eigene Firma (Bob Ross Inc.) unter anderem Lehrbuecher und -videos sowie Bob-Ross-Malsets verkauft. Wer diese Maltechnik fuer Landschaften offiziell unterrichten moechte, muss sich zum CRI (Certified Ross Instructor) ausbilden lassen. Daneben gibt es noch Zertifikate fuer Blumenmalerei (CRFI), Wildtiere (CRWI) und Portrts (CRPI). Letztere sind aber Weiterentwicklungen von Techniken anderer Personen. Die Technik der Blumenmalerei geht beispielsweise auf Annette Kowalski und Kathwren Jenkins zurueck; erste war eine Wegbegleiterin von Bob Ross, die mittlerweile die Bob Ross Inc. leitet.\r\n"
				+ "\r\n"
				+ "The Joy of Painting ist ein von Bob Ross moderierter Fernseh-Malkurs in 403 Teilen (31 Staffeln a 13 Folgen mit je 27 Minuten Sendezeit). Die Sendungen wurden zwischen 1983 und 1994 produziert. Die Folgen, in denen Ross immer auf dieselbe Weise seine Maltechnik prsentiert, haben Namen wie New Day's Dawn, Waterfall in the Woods oder Quiet Mountain Lake (Sonnenaufgang eines neuen Tages, Wasserfall im Wald oder Ruhiger Bergsee). Dabei versucht er, mit moeglichst ruhiger und sanfter Stimme die Zuschauer zu motivieren, selbst zum Pinsel zu greifen und ihre ganz persoenliche Welt zu malen, in der alles erlaubt sei und nichts verkehrt sein koenne.\r\n"
				+ "Zu Beginn jeder Folge begruesst er seine Zuschauer mit den Worten \"Hi, welcome back!\" (\"Hallo, willkommen zurueck!\"), ergnzt um \"I'm certainly glad you could join us today!\" (\"Ich bin wirklich froh, dass Du heute bei uns sein kannst.\"). In der Kommentierung der Arbeitsvorgnge benutzt er wiederkehrende Satzbausteine, wie etwa \"We don't make mistakes here, just happy little accidents\" (\"Uns passieren keine Fehler, nur kleine, glueckliche Missgeschicke.\"), wenn z. B. der Pinsel ausrutschte, beim Trockenschuetteln eines Pinsels im Blecheimer: \"Beat the devil out of it\" (\"Schlage den Teufel heraus\") oder \"Everyone needs a friend\" (\"Jeder braucht einen Freund\"), wenn zu einem allein stehenden Baum ein zweiter hinzugemalt wird. Weitere oft verwendete Stze und Wendungen sind \"A happy little cloud that lives right here\" (\"Eine glueckliche kleine Wolke lebt genau hier.\"), \"A happy little tree\" (\"ein gluecklicher kleiner Baum\") oder \"God having a good day making Alaska\" (\"Gott hatte einen guten Tag, als er Alaska schuf.\") sowie \"What the heck\" (\"was soll's\") und \"The good old two inch brush\" (\"Der gute alte Zwei-Zoll-Pinsel\"); fuer Kleinobjekte diverser Art (Buesche, Steine usw.) besonders gerne \"little rascals\" (\"kleine Schlingel\"). Wenn das Bild fertig gemalt ist, verabschiedet der Moderator die Zuschauer zum Abschluss jeder Sendung stets mit dem Satz \"From all of us here: I'd like to wish you happy painting and God bless, my friend!\" (\"Von uns allen hier: Ich wuensche dir frohes Malen und Gottes Segen, mein Freund.\").\r\n"
				+ "\r\n"
				+ "Insgesamt malte Bob Ross in seinen Sendungen 381 verschiedene Bilder. Ross fertigte von jedem Bild drei Versionen an: Das erste diente als Vorlage fuer das Bild, welches in der Sendung entstand, und ein detaillierteres drittes wurde anschliessend fuer die Begleitbuecher gemalt.\r\n"
				+ "Smtliche Bilder befinden sich bis heute im Besitz der Bob Ross Inc. in Herndon, Virginia. Das Unternehmen vermarktet Malutensilien, Buecher, DVDs und lizenziert Malkurse und Mallehrer weltweit.\r\n"
				+ "Bei einigen Menschen induziert Ross' sanfte Stimme eine Autonomous Sensory Meridian Response (ASMR), weshalb er innerhalb der ASMR-Community auch als \"King of ASMR\" (\"Koenig des ASMR\") bezeichnet wird."
		;
		
		text = text.replaceAll("\r\n\r\n", " <div> ");
		text = text.replaceAll("\r\n", " <p> <p> ");
		
		List<Word> words = new ArrayList<>();
		
		String[] parts = text.split(" ");
		
		for (String part : parts) {
			if (part.equals("<div>")) {
				words.add(Word.pageBreak());
			} else if (part.equals("<p>")) {
				words.add(Word.lineBreak());
			} else {
				words.add(Word.textBased(part, GlyphDescriptorImpl.of(part.length(), 10, FontRefToFontTypeMap.FONT_REF_DEFAULT)));
				words.add(Word.space(GlyphDescriptorImpl.of(1, 10, FontRefToFontTypeMap.FONT_REF_DEFAULT)));
			}
		}
		
		TextPlacer textPlacer = new TextPlacer();
		List<Word> wordsWithControls = textPlacer.wordsWithNeededControlInstructions(words, 40, 10);
		
		for (Word word : wordsWithControls) {
			if (word.textBased) {
				System.out.print(word.text);
			} else if (word.space) {
				System.out.print(" ");
			} else if (word.lineBreak) {
				System.out.println();
			} else if (word.pageBreak) {
				System.out.println();
				System.out.println();
				System.out.println();
				System.out.println();
			}
		}
		
		
		
	}
	
	
}
